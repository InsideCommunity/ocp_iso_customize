{% if ocp_iso_customize_kargs.bond is defined -%}  
{% for _dis_inter in disabled_interfaces | default([]) -%}ip={{ _dis_inter }}:off {% endfor %}bond={{ ocp_iso_customize_kargs.bond[0].name }}:{{ ocp_iso_customize_kargs.bond[0].ifaces }}:{{ocp_iso_customize_kargs.bond[0].bond_opts}} ip={{ ocp_iso_customize_kargs.client_ip }}::{{ ocp_iso_customize_kargs.gw_ip }}:{{ ocp_iso_customize_kargs.netmask }}:{{ ansible_host }}:{{ ocp_iso_customize_kargs.interface }}:{{ ocp_iso_customize_kargs.autoconf }} nameserver={{ ocp_iso_customize_primary_dns }} nameserver={{ ocp_iso_customize_secondary_dns }}{% if ocp_iso_customize_output_type == 'minimal' %} coreos.live.rootfs_url={{ ocp_iso_customize_filer }}/{{_output_rootfs_name }}{% endif %}{% if ocp_iso_customize_ignition_url is defined %} coreos.inst.ignition_url={{ ocp_iso_customize_ignition_url }}{% else %} coreos.inst.ignition_url={{ ocp_iso_customize_filer_ignition_path | default(ocp_iso_customize_filer) }}/{{ ansible_host.split('.')[0] }}.ign{% endif %}{% if ocp_iso_customize_coreos_img_url | default(false) %} coreos.inst.image_url={{ ocp_iso_customize_coreos_img_url }}{% endif %}{% if ocp_iso_insecure_ignition %} coreos.inst.insecure=true {% endif %}{% if ocp_iso_customize_extra_live_karg | default(false) %} {{ ocp_iso_customize_extra_live_karg }}{% endif %}
{% elif ocp_iso_customize_kargs.client_ip is defined -%}
{% for _dis_inter in disabled_interfaces | default([]) -%}ip={{ _dis_inter }}:off {% endfor %}ip={{ ocp_iso_customize_kargs.client_ip }}::{{ ocp_iso_customize_kargs.gw_ip }}:{{ ocp_iso_customize_kargs.netmask }}:{{ ansible_host }}:{{ ocp_iso_customize_kargs.interface }}:{{ ocp_iso_customize_kargs.autoconf }} nameserver={{ ocp_iso_customize_primary_dns }} nameserver={{ ocp_iso_customize_secondary_dns }}{% if ocp_iso_customize_output_type == 'minimal' %} coreos.live.rootfs_url={{ ocp_iso_customize_filer }}/{{_output_rootfs_name }}{% endif %}{% if ocp_iso_customize_ignition_url is defined %} coreos.inst.ignition_url={{ ocp_iso_customize_ignition_url }}{% else %} coreos.inst.ignition_url={{ ocp_iso_customize_filer_ignition_path | default(ocp_iso_customize_filer) }}/{{ ansible_host.split('.')[0] }}.ign{% endif %}{% if ocp_iso_customize_coreos_img_url | default(false) %} coreos.inst.image_url={{ ocp_iso_customize_coreos_img_url }}{% endif %}{% if ocp_iso_insecure_ignition %} coreos.inst.insecure=true {% endif %} {% if ocp_iso_customize_extra_live_karg | default(false) %} {{ ocp_iso_customize_extra_live_karg }}{% endif %}
{% else -%}
{% if ocp_iso_customize_output_type == 'minimal' %} coreos.live.rootfs_url={{ ocp_iso_customize_filer }}/{{_output_rootfs_name }}{% endif %}{% if ocp_iso_customize_ignition_url is defined %} coreos.inst.ignition_url={{ ocp_iso_customize_ignition_url }}{% else %} coreos.inst.ignition_url={{ ocp_iso_customize_filer_ignition_path | default(ocp_iso_customize_filer) }}/{{ ansible_host.split('.')[0] }}.ign{% endif %}{% if ocp_iso_customize_coreos_img_url | default(false) %} coreos.inst.image_url={{ ocp_iso_customize_coreos_img_url }}{% endif %}{% if ocp_iso_insecure_ignition %} coreos.inst.insecure=true {% endif %} {% if ocp_iso_customize_extra_live_karg | default(false) %} {{ ocp_iso_customize_extra_live_karg }}{% endif %}
{% endif %}